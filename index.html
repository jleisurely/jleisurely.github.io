<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-pod私有化，在组件中包含*.xcassets资源时需要做什么" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/24/pod私有化，在组件中包含*.xcassets资源时需要做什么/" class="article-date">
  <time datetime="2019-01-24T09:07:30.457Z" itemprop="datePublished">2019-01-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="pod私有化，在组件中包含-xcassets资源时需要做什么"><a href="#pod私有化，在组件中包含-xcassets资源时需要做什么" class="headerlink" title="pod私有化，在组件中包含*.xcassets资源时需要做什么"></a>pod私有化，在组件中包含*.xcassets资源时需要做什么</h2><p>在百度上搜索了上百条信息，我是真的要吐槽一下，真的搜不到呀，下面的文章记录一下，以防以后忘记了！</p>
<p>这里只是针对这个问题做一个解释，如有问题，请留下宝贵意见：</p>
<p>1、需要在*.podspec文件中加入如下代码</p>
<pre><code><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">s.resource_bundle = &#123;</span><br><span class="line">  'AAA' =&gt; ['目录/Assets/*.xcassets'] #AAA为生成boudle的名称，随便起，记下，下面要用</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><p>2、在需要引入*.xcassets中的图片资源时，调用如下方法：</p>
<pre><code><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">UIImage</span> *img = [<span class="keyword">self</span> getImageWithBoudleName:<span class="string">@"AAA"</span> imgName:<span class="string">@"图片名称"</span>];</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">UIImage</span> *)getImageWithBoudleName:(<span class="built_in">NSString</span> *)boudleName imgName:(<span class="built_in">NSString</span> *)imgName &#123;</span><br><span class="line"><span class="built_in">NSBundle</span> *bundle = [<span class="built_in">NSBundle</span> bundleForClass:[<span class="keyword">self</span> <span class="keyword">class</span>]];</span><br><span class="line"><span class="built_in">NSURL</span> *url = [bundle URLForResource:boudleName withExtension:<span class="string">@"bundle"</span>];</span><br><span class="line"><span class="built_in">NSBundle</span> *targetBundle = [<span class="built_in">NSBundle</span> bundleWithURL:url];</span><br><span class="line"><span class="built_in">UIImage</span> *image = [<span class="built_in">UIImage</span> imageNamed:imgName</span><br><span class="line">                            inBundle:targetBundle</span><br><span class="line">       compatibleWithTraitCollection:<span class="literal">nil</span>];</span><br><span class="line"><span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre><p><a href="https://mp.weixin.qq.com/s?__biz=MzA5NzMwODI0MA==&amp;mid=2647759665&amp;idx=1&amp;sn=4b1f2fde434f1b45ff3eac627a7b7fd9" target="_blank" rel="noopener">特别鸣谢</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/24/pod私有化，在组件中包含*.xcassets资源时需要做什么/" data-id="cjraeqonb0000f1fyq51ksjxq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-iPad机型" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/iPad机型/" class="article-date">
  <time datetime="2019-01-23T01:16:48.085Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>iPad全部机型<br>ipad 1-6 (9.7)<br>ipad mini 1-4（7.9）<br>ipad Air 1-2 (9.7)<br>ipad Pro  1-3 (12.9)<br>ipad Pro (9.7)<br>ipad Pro  (10.5)<br>ipad Pro  (11)<br>需要适配的机型<br>ipad 5-6 (9.7)<br>ipad mini 4（7.9）<br>ipad Air 2 (9.7)<br>ipad Pro  1-3 (12.9)<br>ipad Pro (9.7)<br>ipad Pro  (10.5)<br>ipad Pro  (11)<br>机型识别：<a href="https://support.apple.com/zh-cn/HT201471#ipadair" target="_blank" rel="noopener">https://support.apple.com/zh-cn/HT201471#ipadair</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/23/iPad机型/" data-id="cjraeqonh0001f1fy08111pby" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-组件化" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/25/组件化/" class="article-date">
  <time datetime="2018-12-25T09:18:17.831Z" itemprop="datePublished">2018-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">iOS-Component/</span><br><span class="line">  |- readme.md （说明）</span><br><span class="line">  |- 工程/</span><br><span class="line">  |    |- Config/ （基础配置文件）</span><br><span class="line">  |    |- Modules/ （功能模块）</span><br><span class="line">  |    |    |- Home/</span><br><span class="line">  |    |    |    |- Connector/ (接入点)</span><br><span class="line">  |    |    |    |- Model/ (内部数据模型)</span><br><span class="line">  |    |    |    |- Service/ (该组件的网络接口请求以及网络回调回来的数据转Model工作)</span><br><span class="line">  |    |    |    |- UI/ (页面存放位置)</span><br><span class="line">  |    |    |    |- / ()</span><br><span class="line">  |    |    |- Mine/</span><br><span class="line">  |    |    |- .../</span><br><span class="line">  |    |    |- Login/</span><br><span class="line">  |    |- Manager/ (管理模块)</span><br><span class="line">  |    |- CommonParty/ （基础内部通用文件，如添加或修改，需经过论证）</span><br><span class="line">  |    |    |-  </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |- ThirdParty/ （基础外来三方文件，如添加或修改，需经过论证）</span><br><span class="line">  |    |    |-  </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |- Define/ (全局宏定义)</span><br><span class="line">  |    |- Base/ （基础文件，如修改，需经过论证）</span><br><span class="line">  |    |    |- Frame/ (布局)</span><br><span class="line">  |    |    |    |- UIViewAdditions/ </span><br><span class="line">  |    |    |- DataBase/ （数据库）</span><br><span class="line">  |    |    |- HttpReq/ (网络请求)</span><br><span class="line">  |    |    |- Root/ (基类)</span><br><span class="line">  |    |    |- PostModel/ (基础Model)</span><br><span class="line">  |    |    |- Utils/ (工具类)</span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |    |- </span><br><span class="line">  |    |- Assets.xcassets/ (图片)</span><br><span class="line">  |    |- Resource/ (资源文件夹)</span><br><span class="line">  |    |- Supporting Files</span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |    |-Pod/ （Pod导入文件列表）</span><br><span class="line">  |    |    |- AFNetWroking</span><br><span class="line">  |    |    |- SDWebImage</span><br><span class="line">  |    |    |- FMDB</span><br><span class="line">  |    |    |- Reachability</span><br><span class="line">  |    |    |- MJRefresh</span><br><span class="line">  |    |    |- MJExtension</span><br><span class="line">  |    |    |- MBProgressHUD </span><br><span class="line">  |    |    |- NullSafe </span><br><span class="line">  |    |    |- IQKeyboardManager</span><br><span class="line">  |    |    |- FSCalendar </span><br><span class="line">  |    |    |- pop</span><br><span class="line">  |    |    |-  </span><br><span class="line">  |    |    |-</span><br><span class="line">  |    |    |-    </span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |</span><br><span class="line">  |</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/25/组件化/" data-id="cjraeqons0002f1fyqrs9mi7k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-面试心得" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/25/面试心得/" class="article-date">
  <time datetime="2018-12-25T09:09:25.984Z" itemprop="datePublished">2018-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="面试心得"><a href="#面试心得" class="headerlink" title="面试心得"></a>面试心得</h3><ul>
<li>什么是arc？（arc是为了解决什么问题诞生的？）<br>现在有不少程序员是直接从arc上手的，从没接触过mrc，对arc的理解仅仅停留在apple帮助管理内存的层面。这个问题真正想了解的是对内存管理的理解，retain release虽然不用写了，但arc下还是会有内存泄漏野指针crash的bug存在。如果能从retain count这种内存管理策略的角度去阐述arc诞生的意义就算答对了。如果还能扯下其他类型的策略，比如java里的mark and sweep，那就加分点赞。<br>请解释以下keywords的区别： assign vs weak, <strong>block vs </strong>weak<br>这道题属于基础语法题，可以网上搜到答案。不过真有不少同学不知道weak在对象释放后会置为nil。__block关键字的理解稍微难点，因为在arc和mrc下含义（对retain count的影响）完全不同。理解了这几个关键字就能应付使用block时引入retain cycle的风险了。这题还在内存管理的范畴之内。</li>
<li>使用atomic一定是线程安全的吗？<br>看这题的问法不用想答案肯定是NO。有些人说不出所以然，有些人知道通过property的方式使用才能保证安全，还有人知道这个用来做多线程安全会有性能损耗，更有出色的候选人能谈atomic,synchronized,NSLock,pthread mutex,OSSpinLock的差别。好奇宝宝点我。<br>描述一个你遇到过的retain cycle例子。(别撒谎，你肯定遇到过)<br>说没遇到过的我很难相信你有过成熟项目的经历。这题答不出了会扣很多很多分。用过block，写过delegate的肯定都踩过坑。</li>
<li><code>+(void)load; +(void)initialize；</code> 有什么用处？<br>这题属于runtime范畴，我遇到过能说出对runtime的理解却不知道这两个方法的候选人。所以答不出来也没关系，这属于细节知识点，是加分项，能答出两个message各在什么阶段接收就可以了。<br>为什么其他语言里叫函数调用， objective c里则是给对象发消息（或者谈下对runtime的理解）<br>这题考查的是objective c这门语言的dynamic特性，需要对比c++这类传统静态方法调用才能理解。最好能说出一个对象收到message之后的完整的流程是如何的。对runtime有完整理解的候选人还能说出oc的对象模型。</li>
<li>什么是method swizzling?<br>说了解runtime但没听过method swizzling是骗人的。这题很容易搜到答案。定位一些疑难杂症bug，hack老项目实现，阅读第三方源码都有机会接触到这个概念。</li>
</ul>
<ul>
<li>UIView和CALayer是什么关系  7<br>能答出UIView是CALayer的delegate就及格了，能说出UIView主要处理事件，CALayer负责绘制就更好，再聊下二者在使用过程中对动画流畅性影响的注意点就superb。UI流畅性是个大话题，推荐看下这两篇文章。中餐，西餐。</li>
</ul>
<ul>
<li>如何高性能的给UIImageView加个圆角？（不准说layer.cornerRadius!）5<br>这题讨论的最多，还有说美工切图就搞定的。答主在项目里做过圆角头像的处理，里面的坑还真不少。cornerRadius会导致offscreen drawing有性能问题，美工切图无法适用有背景图的场景，即使加上shouldRasterize也有cache实效问题。正确的做法是切换到工作线程利用CoreGraphic API生成一个offscreen UIImage，再切换到main thread赋值给UIImageView。这里还涉及到UIImageView复用，圆角头像cache缓存（不能每次都去绘制），新旧头像替换等等逻辑。还有其他的实现方式，但思路离不开工作线程与主线程切换。</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span>*)circleImage &#123;</span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(<span class="keyword">self</span>.size, <span class="literal">NO</span>, <span class="number">0.0</span>);</span><br><span class="line"><span class="built_in">CGContextRefctx</span> = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line"><span class="built_in">CGRectrect</span> = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">self</span>.size.width,<span class="keyword">self</span>.size.height);</span><br><span class="line"><span class="built_in">CGContextAddEllipseInRect</span>(ctx, rect);</span><br><span class="line"><span class="built_in">CGContextClip</span>(ctx);</span><br><span class="line">[selfdrawInRect:rect];</span><br><span class="line"><span class="built_in">UIImage</span>*image =<span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">returnimage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">UIImageView</span>*imageView = [[<span class="built_in">UIImageViewalloc</span>] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)]; </span><br><span class="line">imageView.center = <span class="built_in">CGPointMake</span>(<span class="number">200</span>,<span class="number">300</span>);</span><br><span class="line"><span class="built_in">UIImage</span>*anotherImage = [<span class="built_in">UIImageimageNamed</span>:<span class="string">@"image"</span>];</span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContextWithOptions</span>(imageView.bounds.size, <span class="literal">NO</span>, <span class="number">1.0</span>); [[<span class="built_in">UIBezierPathbezierPathWithRoundedRect</span>:imageView.bounds cornerRadius:<span class="number">50</span>] addClip];</span><br><span class="line">[anotherImage drawInRect:imageView.bounds];</span><br><span class="line">imageView.image =<span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>(); </span><br><span class="line">[<span class="keyword">self</span>.view addSubview:imageView];</span><br></pre></td></tr></table></figure>
<ul>
<li>UITableView优化方法<br>cell重用，异步执行耗时操作这种就不用提了，这都是大家能想到的，我们可以说一点其他的。<br>1：减少视图层次；<br>2：正确使用api，比如设置rowHeight而不去取dataSource；<br>3：减少离屏渲染；<br>圆角图片<br>阴影<br>…<br>4：设置视图不透明减少渲染代价，如果有透明度则会根据多个视图才知道一个像素点显示什么颜色；<br>5：RunLoop空闲计算cell高度并缓存；<br>6：利用RunLoop的mode在滚动时不执行耗时操作。</li>
</ul>
<ul>
<li>如何用GCD同步若干个异步调用？（如根据若干个url异步加载多张图片，然后在都下载完成后合成一张整图）</li>
</ul>
<ul>
<li>dispatch_barrier_async（栅栏函数）的作用是什么？<br>1.在它前面的任务执行结束后它才执行，它后面的任务要等它执行完成后才会开始执行。<br>2.避免数据竞争</li>
</ul>
<ul>
<li>以下代码运行结果如何？</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line"> [superviewDidLoad];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"1"</span>);</span><br><span class="line"><span class="built_in">dispatch_sync</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"2"</span>); </span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"3"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用drawRect有什么影响？（这个可深可浅，你至少得用过。。）<br>不少同学都用过drawRect或者看别人用过，但不知道这个api存在的含义。这不仅仅是另一种做UI的方式。drawRect会利用CPU生成offscreen bitmap，从而减轻GPU的绘制压力，用这种方式最UI可以将动画流畅性优化到极致，但缺点是绘制api复杂，offscreen cache增加内存开销。UI动画流畅性的优化主要平衡CPU和GPU的工作压力。推荐一篇文章：西餐<br>ASIHttpRequest或者SDWebImage里面给UIImageView加载图片的逻辑是什么样的？（把UIImageView放到UITableViewCell里面问更赞）<br>很多同学没有读源码的习惯，别人的轮子拿来只是用用却不知道真正的营养都在源代码里面。这两个经典的framework代码并不复杂，很值得一读。能对一个UIImageView怎么通过url展示一张图片有完整的理解。涉及到的知识点也非常多，UITableViewCell的复用，memory cache, disk cache, 多线程切换，甚至http协议本身都需要有一定的涉及。<br>麻烦你设计个简单的图片内存缓存器（移除策略是一定要说的）<br>内存缓存是个通用话题，每个平台都会涉及到。cache算法会影响到整个app的表现。候选人最好能谈下自己都了解哪些cache策略及各自的特点。常见的有FIFO,LRU,LRU-2,2Q等等。由于NSCache的缓存策略不透明，一些app开发者会选择自己做一套cache机制，其实并不难。</li>
</ul>
<ul>
<li>讲讲你用Instrument优化动画性能的经历吧（别问我什么是Instrument）<br>Apple的instrument为开发者提供了各种template去优化app性能和定位问题。很多公司都在赶feature，并没有充足的时间来做优化，导致不少开发者对instrument不怎么熟悉。但这里面其实涵盖了非常完整的计算机基础理论知识体系，memory，disk，network，thread，cpu，gpu等等，顺藤摸瓜去学习，是一笔巨大的知识财富。动画性能只是其中一个template，重点还是理解上面问题当中CPU GPU如何配合工作的知识。<br>loadView是干嘛用的？<br>不要就简单的告诉我没用过，至少问下我有什么用。。这里是apple给开发者自己设置custom view的位置。说UI熟悉的一定要知道。<br>viewWillLayoutSubView你总是知道的。。<br>controller layout触发的时候，开发者有机会去重新layout自己的各个subview。说UI熟悉的一定要知道。</li>
<li>GCD里面有哪几种Queue？你自己建立过串行queue吗？背后的线程模型是什么样的？？<br>两种queue，串行和并行。main queue是串行，global queue是并行。有些开发者为了在工作线程串行的处理任务会自己建立一个serial queue。背后是苹果维护的线程池，各种queue要用线程都是这个池子里取的。GCD大家都用过，但很多关键的概念不少人都理解的模凌两可。串行，并行，同步，异步是GCD的核心概念。<br>用过coredata或者sqlite吗？读写是分线程的吗？遇到过死锁没？咋解决的？<br>没用过sqlite是说不过去的。用过CoreData的肯定有很多血泪史要说。多谢线程模型你肯定做过比较选择。死锁是啥肯定也是要知道的，没遇到过至少能举个简单的例子来说明。单个线程可以死锁（main thread里dispatch_sync到main queue），多个线程直接也可以死锁（A，B线程互相持有对方需要的资源且互相等待）。</li>
<li>http的post和get啥区别？（区别挺多的，麻烦多说点）<br>这个可以说很多。不希望听到的答案有<br>两个差不多，随便用一个。<br>post比get安全（其实两个都不安全）<br>能说下两个http格式有什么不同，各自应用的场景就合格了。更多可以阅读下这个答案。</li>
</ul>
<p>1、如何令自己所写的对象具有拷贝功能?</p>
<p>2、说说你理解weak属性？</p>
<p>3、题目：Swift mutating关键字的使用？</p>
<p>4、UIView和CALayer是什么关系?</p>
<p>5、下面的代码输出什么？</p>
<p>6、@synthesize 和 @dynamic 分别有什么作用？</p>
<p>7、动态绑定</p>
<p>8、Category（类别）、 Extension（扩展）和继承的区别</p>
<p>9、为什么代理要用weak？代理的delegate和dataSource有什么区别？block和代理的区别？</p>
<p>10、id和NSObject＊的区别</p>
<p>11、如何令自己所写的对象具有拷贝功能?</p>
<p>12、使用系统的某些block api（如UIView的block版本写动画时），是否也考虑引用循环问题？</p>
<p>13、用@property声明的NSString（或NSArray，NSDictionary）经常使用copy关键字，为什么？如果改用strong关键字，可能造成什么问题？</p>
<p>14、UIView和 CALayer是什么关系?</p>
<p>15、static有什么作用?</p>
<p>底层：</p>
<p>16、main()之前的过程有哪些？</p>
<p>17、KVO基本原理？</p>
<p>18、Swift 下的如何使用 KVC?</p>
<p>19、：Swift有哪些模式匹配？</p>
<p>20、objc在向一个对象发送消息时，发生了什么？</p>
<p>21、静态库的原理是什么？你有没有自己写过静态编译库，遇到了哪些问题？</p>
<p>22、runloop是来做什么的？runloop和线程有什么关系？主线程默认开启了runloop么？子线程呢？</p>
<p>23、不手动指定autoreleasepool的前提下，一个autorealese对象在什么时刻释放？（比如在一个vc的viewDidLoad中创建</p>
<p>24、不手动指定autoreleasepool的前提下，一个autorealese对象在什么时刻释放？（比如在一个vc的viewDidLoad中创建）</p>
<p>25、OC完整的消息转发机制+代码实现【暴击】</p>
<p>26、、以+ scheduledTimerWithTimeInterval…的方式触发的timer，在滑动页面上的列表时，timer会暂定回调，为什么？如何解决？</p>
<p>27、如何手动触发一个value的KVO</p>
<p>28、如何对定位和分析项目中影响性能的地方？以及如何进行性能优化？</p>
<p>29、串行并行，异步同步的区别？</p>
<p>30、线程是什么？进程是什么？二者有什么区别和联系？</p>
<p>31、RunLoop是什么？</p>
<p>32、假设有一个字符串aabcad，请写一段程序，去掉字符串中不相邻的重复字符串，即上述字符串处理之后的输出结果为：aabcd</p>
<p>@autoclosure（自动闭包）</p>
<p>34、iOS app启动如何优化？</p>
<p>35、swift面试题：</p>
<p>36、怎样防止反编译？</p>
<p>37、UITableView性能优化，超实用</p>
<p>线程：</p>
<p>37、 不要阻塞主线程</p>
<p>38、谈谈你对多线程开发的理解？ios中有几种实现多线程的方法？</p>
<p>39、进程和线程的区别？同步异步的区别？并行和并发的区别？</p>
<p>40、ViewController生命周期</p>
<p>41、iOS 中的多线程</p>
<p>42、内存管理的几条原则时什么？按照默认法则.那些关键字生成的对象</p>
<p>需要手动释放？在和property结合的时候怎样有效的避免内存泄露？</p>
<p>谁申请，谁释放</p>
<p>43、dispatch_barrier_async的作用是什么？</p>
<p>44、如何用GCD同步若干个异步调用？（如根据若干个url异步加载多张图片，然后在都下载完成后合成一张整图）</p>
<p>http：</p>
<p>46、http与https的区别?</p>
<p>47、服务器能否知道APNS推送后有没有到达客户端的方法？</p>
<p>app：</p>
<p>48、1.什么方式可以看到上架App的头文件?</p>
<p>2.阅读过哪些框架的源码?能说说它的架构方式吗</p>
<p>49、iOS iAP内购审核可能失败的问题</p>
<p>50、IAP内购中虚拟货币导致审核无法通过的问题？</p>
<p><font color="#0099ff">面试整理</font><br>1、TableView卡顿的优化~案例~tableView的重用机制？<br>2、<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3、三方库的解析</span><br><span class="line">4、LRU、LFU，数据持久化储存（Least Frequently Used）（Least recently used，最近最少使用）</span><br><span class="line">5、GCD用的多吗？都怎么用的，```group、notify，berries，semaphore</span><br></pre></td></tr></table></figure></p>
<p>6、布局方式<br>7、<code>KVO</code>的实现原理，<code>NSKVONotifying_A</code><br>8、性能优化<br>9、<code>runtime</code>用的多吗<br>10、</p>
<p>11、擅长的东西<br>12、<code>js</code>交互<br>13、移动端目前的打包方式，内部发布的时候怎么进行安装！<br>14、property的修饰符有哪些<a href="https://www.jianshu.com/p/de6328fda59c" target="_blank" rel="noopener">来自 简书</a></p>
<p>15、<code>runloop，mode有timer、source、common和observer</code>等<br>16、bug处理，dsym，<br>17、移动端线上测试，mqc，最大崩溃率，体验不好，临时处理方式<br>pod ‘Bugly’腾讯出品，都怎么调试，</p>
<p>18、一个Universal程序还是iPhone、iPad俩个版本 ?<br>19、老鼠的问题<br>20、iOS 以<code>scheduledTimerWithTimeInterval</code>的方式触发的timer，在滑动页面上的列表时，timer会暂停，为什么？该如何解决<br>21、OC中<code>protocol、category</code>和<code>继承</code>的区别   <code>extension</code> <a href="http://www.cocoachina.com/ios/20170502/19163.html" target="_blank" rel="noopener">来自 cocoachina</a></p>
<p>用category的好处<br>（可以添加实例方法，类方法，甚至可以实现协议，添加属性）和不可为（无法添加实例变量）。<br>22、介绍项目，注册用户最多的一个<br>23、招合适的人<br>24、本地推送，远程推送<br>25、<code>typedef</code> 和 <code>define</code> 使用注意 <a href="https://www.jianshu.com/p/b932b339da8d" target="_blank" rel="noopener">来自 简书</a><br>26、<code>UIImage</code>加载图片性能问题 <a href="https://www.jianshu.com/p/9220374d6f33" target="_blank" rel="noopener">来自 简书</a><br>27、你大概知道一个类的名字，现在你定位到这个类！<br>28、收费视频处理流程<br>29、<code>AutoreleasePool</code>的释放有如下两种情况 runloop即将结束，drain<br>30、字典转模型，MJExtension<br>31、怎么发现离屏渲染 <a href="http://www.cnblogs.com/fishbay/p/7576176.html" target="_blank" rel="noopener">来自 cnblog</a><br>32、JSPatch  <a href="http://www.cnblogs.com/fishbay/p/7576176.html" target="_blank" rel="noopener">来自 cnblog</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/25/面试心得/" data-id="cjraeqoo10003f1fya290k46c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-代码规范" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/25/代码规范/" class="article-date">
  <time datetime="2018-12-25T01:34:26.250Z" itemprop="datePublished">2018-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h4><p><strong>目的</strong></p>
<p>为了利于项目维护以及规范开发，促进成员之间<code>Code Review</code>的效率，故提出以下开发规范，如有更好的建议，欢迎提出。<br>本文档的预期读者包括：<code>iOS开发人员</code>。</p>
<p>代码中的命名严禁使用拼音与英文混合的方式,更不允许直接使用中文的方式。正确的英文拼写和语法可以让阅读者易于理解,避免歧义。</p>
<p>*注意：即使纯拼音命名方式也要避免采用。但<code>alibab、taobao、youku、hangzhou</code>等国际通用的名称，可视同英文.</p>
<p>小驼峰原则：第一个单词首字母小写，其余都大写。例：nameTextField。</p>
<p><strong>项目命名</strong></p>
<ul>
<li>项目名都遵循大驼峰命名。例如：AoRiseProject。</li>
<li><code>Bundle Identifier</code> 命名</li>
<li><code>Bundle Identifier</code>：采用反域名命名规范，全部采用小写字母，以域名后缀+公司顶级域名+应用名形式命名，例如：<code>com.hlsk.hedpapp</code><br>类名</li>
<li>类的命名都遵循大驼峰命名。一般是：<code>前缀 + 功能 + 类型</code>。例如：<code>HYC + Login + ViewController</code>。</li>
<li>在实际开发中，一般都会给工程中所有的类加上属于本工程的前缀。</li>
<li>常用控件类命名类型对照表（下表中前缀为：HYC，如果用到下表中没有列举出来，请去掉UI首字母，遵循实际规则即可。）</li>
</ul>
<table>
<thead>
<tr>
<th>控件名</th>
<th>类型</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>UIViewController</td>
<td>ViewController</td>
<td>HYCBaseViewController</td>
</tr>
<tr>
<td>UView</td>
<td>View</td>
<td>HYCBaseView</td>
</tr>
<tr>
<td>UITableView</td>
<td>TableView</td>
<td>HYCOrderTableView</td>
</tr>
<tr>
<td>UITableViewCell</td>
<td>Cell</td>
<td>HYCOrderListCell</td>
</tr>
<tr>
<td>UIButton</td>
<td>Button</td>
<td>HYCSuccessButton</td>
</tr>
<tr>
<td>UILabel</td>
<td>Label</td>
<td>HYCSuccessLabel</td>
</tr>
<tr>
<td>UIImageView</td>
<td>ImgView</td>
<td>HYCGoodsImgView</td>
</tr>
<tr>
<td>UITextField</td>
<td>TextField</td>
<td>HYCNameTextField</td>
</tr>
<tr>
<td>UITextView</td>
<td>TextView</td>
<td>HYCSuggestTextView</td>
</tr>
</tbody>
</table>
<ul>
<li>其它类相关对照表</li>
</ul>
<table>
<thead>
<tr>
<th>功能</th>
<th>类型</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>工具类</td>
<td>Tool</td>
<td>HYCOrderTool</td>
</tr>
<tr>
<td>代理类</td>
<td>Delegate</td>
<td>HYCOrderListDelegate</td>
</tr>
<tr>
<td>管理类</td>
<td>Manager</td>
<td>HYCOrderListModel</td>
</tr>
<tr>
<td>模型类</td>
<td>Model</td>
<td>HYCOrderListModel</td>
</tr>
<tr>
<td>Service类</td>
<td>Service</td>
<td>HYCOrderService</td>
</tr>
<tr>
<td>布局类</td>
<td>Layout</td>
<td>HYCHomeLayout</td>
</tr>
<tr>
<td>数据库类</td>
<td>DataBase、表名+DBHelper</td>
<td>HYCFriendDataBase、HYCUserTableDBHelper</td>
</tr>
</tbody>
</table>
<p><strong>类目</strong><br>XXX+（范围，例如Extension， Additions 或者功能，例如Frame，Nib，Block）<br>HYCUIButton+Additions、HYCUIButton+Block</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIViewController</span>请按照如下分类</span><br><span class="line"><span class="meta">#pragma mark - life cycle</span></span><br><span class="line"><span class="meta">#pragma mark - event response</span></span><br><span class="line"><span class="meta">#pragma mark - UITableViewDelegate &amp;&amp; UITableViewDataSource</span></span><br><span class="line">（代理顺序往下排列）</span><br><span class="line"><span class="meta">#pragma mark - getters and setters</span></span><br><span class="line"><span class="meta">#pragma mark - private</span></span><br></pre></td></tr></table></figure>
<p>注意：所有视图或者对象的创建请尽量使用懒加载，调用的时候全部使用self.textBtn这样的方式。如果是确定的不可变数组、字典，可直接给定数组中的元素。(getters and setters分类中，懒加载可出现_调用对象，其它情况请遵循self.调用原则)</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>)<span class="built_in">UIButton</span> * textBtn;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#pragma mark - life cycle</span></span><br><span class="line">    - (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">        [<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">        [<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.textBtn];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    - (<span class="keyword">void</span>)didReceiveMemoryWarning &#123;</span><br><span class="line">        [<span class="keyword">super</span> didReceiveMemoryWarning];</span><br><span class="line">    <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#pragma mark - private </span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#pragma mark - event response</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#pragma mark - UITableViewDelegate &amp;&amp; UITableViewDataSource</span></span><br><span class="line"><span class="comment">//（代理顺序往下排列）</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#pragma mark - CTAPIManagerCallBackDelegate</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#pragma mark - getters and setters</span></span><br><span class="line">    - (<span class="built_in">UIButton</span> *)textBtn</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_textBtn == <span class="literal">nil</span>) &#123;</span><br><span class="line">            _textBtn = [<span class="built_in">UIButton</span> buttonWithType:<span class="built_in">UIButtonTypeCustom</span>];</span><br><span class="line">            _textBtn.frame = <span class="built_in">CGRectMake</span>(<span class="number">300</span>, <span class="number">250</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">            _textBtn.backgroundColor = [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">            _textBtn.titleLabel.text = <span class="string">@"text"</span>;</span><br><span class="line">            [_textBtn addTarget:<span class="keyword">self</span> action:<span class="keyword">@selector</span>(text) forControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> _textBtn;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><strong>变量和方法</strong><br>变量和方法的命名都遵循小驼峰命名。例如：textVariableStr, - (void)textAction响应事件。<br>变量命名对照表（如果用到下表中没有列举出来，请去掉UI、NS遵循实际规则即可。或者一看就知道的通用简写）<br>方法命名对照表（方法多为动词或动名词）</p>
<p>功能/示例</p>
<pre><code>- (id)initXX
初始化相关方法,使用init为前缀标识，如初始化布局- (id)initView

- (BOOL)isXX
方法返回值为boolean型的请使用is前缀标识

- (UIView *)getXX
返回某个值的方法，使用get为前缀标识

- (void)setXX
设置某个属性值或者相关数据

- (void)updateXX
更新数据

- (void)saveXX
保存数据

- (void)drawXX
绘制相关，使用draw前缀标识

- (void)clearXX
清除数据

- (void)XXXAction
响应事件，使用Action为后缀标识

- (void)loadData
加载数据（一般情况下VC中都会有这个方法）

- (void)loadMoreData
加载更多数据

- (void)setupUI
加载布局（一般情况下VC中都会有这个方法）
</code></pre><p><strong>方法的命名</strong><br>当方法参数在三个以及三个以上,换行保持对齐(冒号对齐,冒号前是参数变量,冒号后是参数值).<br>方法声明:</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">instancetype</span>)initWithPersonName:(<span class="built_in">NSString</span> *)name</span><br><span class="line">                           withAge:(<span class="keyword">int</span>)age</span><br><span class="line">                           withSex:(<span class="built_in">NSString</span> *)sex</span><br><span class="line">                        withHeight:(<span class="keyword">float</span>)height </span><br><span class="line">                        withWeight:(<span class="keyword">float</span>)weight;</span><br></pre></td></tr></table></figure>
<p>方法调用:避免使用冒号对齐的方式.</p>
<p><strong>常量</strong><br>宏：小写k+大驼峰  即为：#define kUserAgeKey @“ageKey”<br>全局常量：工程前+缀全大写，下划线隔开 即为：extern const NSString MW_USER_AGE_KEY<br><strong>参数名</strong><br>参数名以小驼峰命名，尽量参考苹果原生方法风格编写。尽量可读性好，看到方法名就知道这个方法是用来干什么的。参数应该避免用单个字符命名。例：<code>- (void)setDataImageUrl:(NSString *)imageUrl name:(NSString *)nameStr content:(NSString *)contentStr</code><br><strong>资源文件命名</strong><br>全部小写，采用下划线命名法，加前缀区分。所有的资源文件都需要加上工程前缀（小写形式）。<br>命名模式：可加后缀_small表示小图,_big表示大图，逻辑名称可由多个单词加下划线组成，采用以下规则：</p>
<p><code>用途_模块名_逻辑名称
用途_模块名_颜色
用途_逻辑名称
用途_颜色</code></p>
<table>
<thead>
<tr>
<th>说明</th>
<th>前缀（工程前缀示例MW）</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>按钮相关</td>
<td>hyc_btn_</td>
<td>hyc_btn_home_normal、hyc_btn_red,hyc_btn_red_big</td>
</tr>
<tr>
<td>背景相关</td>
<td>hyc_btn_</td>
<td>hyc_bg_home_header、hyc_bg_main</td>
</tr>
<tr>
<td>图标相关</td>
<td>hyc_ic_</td>
<td>hyc_ic_home_location、hyc_bg_input</td>
</tr>
<tr>
<td>分割线相关</td>
<td>hyc_div_</td>
<td>hyc_ic_home_location、hyc_bg_input</td>
</tr>
<tr>
<td>默认相关</td>
<td>hyc_def_</td>
<td>hyc_ic_home_location、hyc_bg_input</td>
</tr>
</tbody>
</table>
<p><strong>文件夹命名</strong><br>创建文件夹最好创建实体文件夹，找到工程目录，创建相应文件夹并拖入工程。文件夹命名使用相应模块结构分层的英文，首字母要大写。例：Model，View，Controller，Tool，Other，Service等等。</p>
<p>采用US(美式)英语,不使UK(英式)英语或汉字拼音.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">US: <span class="built_in">UIColor</span> *myColor =[<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">UK: <span class="built_in">UIColor</span> *myColour =[<span class="built_in">UIColor</span> blueColor];</span><br><span class="line">拼音: <span class="built_in">UIColor</span> *wodeYanSe =[<span class="built_in">UIColor</span> blueColor];</span><br></pre></td></tr></table></figure>
<p><strong>宏的命名</strong><br>以两个大写字母作为前缀,后面遵循大驼峰命名法.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#define KKScreenWidth ([UIScreen mainScreen].bounds.size.width)</span></span><br><span class="line"><span class="meta">#define KKAppVersion @<span class="meta-string">"appVersion"</span></span></span><br></pre></td></tr></table></figure>
<p><strong>枚举的命名</strong><br>遵循Objective-C内部框架定义方式.<br>Enum中枚举内容的命名需要以该Enum类型名称开头.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, FulowersMoveDestination)</span><br><span class="line">&#123;</span><br><span class="line">    FulowersMoveDestinationTop,</span><br><span class="line">    FulowersMoveDestinationBottom,</span><br><span class="line">    FulowersMoveDestinationLeft,</span><br><span class="line">    FulowersMoveDestinationRight,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>赋值</strong><br>在”=”号左右两边各间隔一个空格.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p><strong>类方法或对象方法</strong><br>方法的”+/-”号和左侧小括号间隔一个空格，方法名称与大括号间隔一个空格</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>版本规范</strong></p>
<p>采用A.B.C 三位数字命名，比如：1.0.2，当有版本更新的时候，依据下面的情况来确定版本号规范。</p>
<table>
<thead>
<tr>
<th>版本号</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>A.b.c</td>
<td>属于重大更新内容</td>
<td>1.0.2 -&gt; 2.00</td>
</tr>
<tr>
<td>a.B.c</td>
<td>属于小部分更新内容</td>
<td>1.0.2 -&gt; 1.2.2</td>
</tr>
<tr>
<td>a.b.C</td>
<td>属于补丁更新内容</td>
<td>1.0.2 -&gt; 1.0.4</td>
</tr>
</tbody>
</table>
<p><strong>第三方库规范</strong></p>
<p>希望Team能用时下较新的技术，对开源库的选取，一般都需要选择比较稳定的版本，作者在维护的项目，要考虑作者对issue的解决，以及开发者的知名度等各方面。选取之后，一定的封装是必要的。<br>项目使用cocoapods统一管理开源第三库文件，不需要手动导入和手动添加依赖库。如果第三方不支持cocoapods，可手动导入工程。</p>
<p><strong>类注释</strong><br>为了减少他人阅读你代码的痛苦值，请在关键地方做好注释。</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  MyViewController.m</span></span><br><span class="line"><span class="comment">//  text</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by Jade on 2017/9/12.</span></span><br><span class="line"><span class="comment">//  Copyright © 2017年 Jade. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure>
<p>该注释是自动生成的，在xcode中设置即可。Created by 电脑用户名on 创建该文件的时间。Copyright 2017 后面的名字和邮箱是自己填写和设置的。具体可在xcode工程，Project Document中设置。这样便可在每次新建类的时候自动加上该头注释。<br>方法注释</p>
<p>方法注释，方法外部统一用option + command + /，方法内部统一用//注释。</p>
<pre><code>/**
测试
*/
- (void)text
{
   //测试按钮事件响应
}


注释
</code></pre><p>注释是为了解释说明,方法或变量等命名规范合理,清楚易懂,可以不添加注释,含有复杂逻辑的代码必须添加注释.注释需要实时更新,跟随代码的变动进行更改或者删除.<br>1.公开类方法注释<br>在.h文件中声明类方法,采用文档注释,要写明方法的具体作用,所有参数的含义以及返回的参数值.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 创建person对象的类方法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param name 姓名</span></span><br><span class="line"><span class="comment"> @param age 年龄</span></span><br><span class="line"><span class="comment"> @param sex 性别</span></span><br><span class="line"><span class="comment"> @param height 身高</span></span><br><span class="line"><span class="comment"> @param weight 体重</span></span><br><span class="line"><span class="comment"> @return 返回person类对象</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)initWithPersonName:(<span class="built_in">NSString</span> *)name</span><br><span class="line">                           withAge:(<span class="keyword">int</span>)age</span><br><span class="line">                           withSex:(<span class="built_in">NSString</span> *)sex</span><br><span class="line">                        withHeight:(<span class="keyword">float</span>)height</span><br><span class="line">                        withWeight:(<span class="keyword">float</span>)weight;</span><br></pre></td></tr></table></figure>
<p><strong>方法内部逻辑代码注释</strong><br>复杂逻辑代码在代码上方进行注释,注释方式采用双斜杠+单个空格+具体注释内容</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [<span class="keyword">super</span> ViewDidLoad];</span><br><span class="line">    <span class="comment">// 注释</span></span><br><span class="line">    <span class="keyword">if</span>(...)</span><br><span class="line">    &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>for循环</strong><br>for和左侧小括号间隔一个空格, i和”&lt;=”间隔一个空格, ”&lt;=”和”3”间隔一个空格, ”3”后面紧跟着封号 ,封号和i间隔一个空格.大括号换行,一对大括号上下位置对齐.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>条件语句</strong><br>关于大括号,任何需要大括号的都不能省略.<br>采用</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isLogin)</span><br><span class="line">&#123;   </span><br><span class="line">    <span class="keyword">return</span> success;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不是</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isLogin)</span><br><span class="line">    <span class="keyword">return</span> success;</span><br></pre></td></tr></table></figure>
<p>也不是</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isLogin) <span class="keyword">return</span> success;</span><br></pre></td></tr></table></figure>
<p><strong>case语句</strong><br>当一个case语句包含多行代码时,大括号应该加上.如case 2所示.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (condition) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:  </span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="comment">// Multi-line example using braces  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:   </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    <span class="keyword">default</span>:   </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  当在switch使用枚举类型时，default是不需要的.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (FulowersMoveDestination) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> FulowersMoveDestinationTop:  </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    <span class="keyword">case</span> FulowersMoveDestinationBottom:  </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    <span class="keyword">case</span> FulowersMoveDestinationLeft:  </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">    <span class="keyword">case</span> FulowersMoveDestinationRight:  </span><br><span class="line">        <span class="comment">// ...  </span></span><br><span class="line">        <span class="keyword">break</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>单例</strong><br>统一采用shared+类名作为单例类的方法名</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">LBYNetworkTool</span></span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)sharedBYNetworkTool</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">static</span> LBYNetworkTool *instance;</span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">static</span> <span class="built_in">dispatch_once_t</span> onceToken;</span><br><span class="line">        <span class="built_in">dispatch_once</span>(&amp;onceToken, ^&#123;        </span><br><span class="line">            instance = [[LBYNetworkTool alloc]init];</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p><strong>UI整理</strong><br>搭建UI时,使用setup作为方法名前缀,将相应UI布局放在对应方法中</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)setupTableViewUI</span><br><span class="line">- (<span class="keyword">void</span>)setupNavigationUI</span><br><span class="line">- (<span class="keyword">void</span>)setupCollectionViewUI</span><br></pre></td></tr></table></figure>
<p><strong>标记</strong><br>在函数分组和使用#pragma mark - 给重要逻辑代码添加标记,方便阅读</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - Lifecycle</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)init </span><br><span class="line">- (<span class="keyword">void</span>)dealloc </span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad </span><br><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated </span><br><span class="line">- (<span class="keyword">void</span>)didReceiveMemoryWarning </span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - IBActions</span></span><br><span class="line">- (<span class="keyword">IBAction</span>)submitData:(<span class="keyword">id</span>)sender </span><br><span class="line">    </span><br><span class="line"><span class="meta">#pragma mark - Public</span></span><br><span class="line">- (<span class="keyword">void</span>)publicMethod </span><br><span class="line">    </span><br><span class="line"><span class="meta">#pragma mark - Private</span></span><br><span class="line">- (<span class="keyword">void</span>)privateMethod </span><br><span class="line">    </span><br><span class="line"><span class="meta">#pragma mark - Custom Protocol</span></span><br><span class="line">- (<span class="keyword">void</span>)tabbarBottomView:(LBYTabbarBottomView *)tabbarBottomView didSelectIndex:(<span class="built_in">NSUInteger</span>)index didSelectBtn:(BYBottomButton *)selectBtn</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - UITextFieldDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)textViewDidBeginEditing:(<span class="built_in">UITextView</span> *)textView;</span><br><span class="line">- (<span class="keyword">void</span>)textViewDidEndEditing:(<span class="built_in">UITextView</span> *)textView;</span><br><span class="line">    </span><br><span class="line"><span class="meta">#pragma mark - UITableViewDataSource</span></span><br><span class="line">- (<span class="built_in">NSInteger</span>)tableView:(<span class="built_in">UITableView</span> *)tableView numberOfRowsInSection:(<span class="built_in">NSInteger</span>)section;</span><br><span class="line">- (<span class="built_in">UITableViewCell</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView cellForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath;</span><br><span class="line">    </span><br><span class="line"><span class="meta">#pragma mark - UITableViewDelegate</span></span><br><span class="line">- (<span class="built_in">CGFloat</span>)tableView:(<span class="built_in">UITableView</span> *)tableView heightForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSObject</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)description</span><br></pre></td></tr></table></figure>
<p><strong>模型注释</strong></p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">每个model中的，包含的每个属性，都必须要写上相对应的注释，用<span class="comment">///注释。阅读者一看这个model，就清楚知道model中的每个字段代表的意思，用来做什么事情的。</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">DeliveryModel</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">///提货劵所在商圈id</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">long</span> <span class="keyword">long</span> mallId;</span><br><span class="line"><span class="comment">///商圈全称</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *mallFullName;</span><br><span class="line"><span class="comment">///商圈简称</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *mallShortName;</span><br><span class="line"><span class="comment">///提货劵号</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *credentialsCode;</span><br><span class="line"><span class="comment">///总金额</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> totalAmount;</span><br><span class="line"><span class="comment">///提货劵所在店铺id</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">long</span> <span class="keyword">long</span> storeId;</span><br><span class="line"><span class="comment">///货劵所在店铺名称</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *storeName;</span><br><span class="line"><span class="comment">///提货劵id</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSNumber</span> *credentialsId;</span><br><span class="line"><span class="comment">///状态:0：未提货、1：已提货、2：已分享、3：已退款</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> state;</span><br><span class="line"><span class="comment">///提货商品(以下为提货商品参数)</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">NSArray</span>&lt;DeliveryGoodslist *&gt; *goodsList;</span><br><span class="line"><span class="comment">///二维码</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *qrCode;</span><br><span class="line"><span class="comment">///商品总个数</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">NSInteger</span> goodsCount;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>如果不是model的属性，是其它类属性，需要注释，请按照model属性注释方式。</p>
<p><strong>属性和对象的命名</strong><br>采用修饰+类型的方式命名,BOOL类型添加is前缀,单词遵循小驼峰命名法.声明属性时,小括号中的顺序依次是:nonatomic,readonly,strong.</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">BOOL</span> isLogin;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="built_in">UITextField</span> *loginNameTextField;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *studentClientName;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="built_in">UILabel</span> *loginTipLabel;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) <span class="built_in">UIButton</span> *loginButton;</span><br></pre></td></tr></table></figure>
<p><strong>编码规范</strong></p>
<ul>
<li>所有的方法之间空一行。</li>
<li>所有的代码块之间空一行，删除多余的注释。</li>
<li>所有自定义的方法需要给出注释。</li>
<li>尽量使用懒加载，在控制器分类时有提及和要求，其它自定义类按照控制器格式分类，没有的分类不写即可。</li>
<li>代码后的’{‘不需要独占一行，包括方法之后，if，switch等。</li>
<li><p>必须要统一的要求，属性的定义请按照下图property之后，空一格，括号之后空一格，写上类名，空一格之后跟上*和属性名。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UITableView</span> *tableView;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DeliveryModel *delivery;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DeliveryLookAdapter *lookAdapter;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) DeliveryLookAPIManager *lookManager;</span><br></pre></td></tr></table></figure>
</li>
<li><p>遵循一般代码规范，多模仿苹果API。</p>
</li>
<li>删除不用的代码。</li>
<li>如果有方法一直不会用到，请删除（除工具类）。</li>
<li>没有执行任何业务逻辑的方法，请删除或给予注释，删除多余的资源或文件，添加必要的注释。</li>
<li>比较大的代码块需要给出注释。</li>
</ul>
<p><strong>其它规范</strong></p>
<ul>
<li>建议项目统一使用Masonry和xib结合的方式布局。不允许出现直接设置frame的情况。如果是纯代码的项目，不允许出现xib和拉约束的情况。不建议使用纯storyboard开发。？？？</li>
<li>数据提供统一的入口。无论是在 MVP、MVC 还是 MVVM 中，提供一个统一的数据入口，都可以让代码变得更加易于维护。比如可使用一个DataManager，把 http、preference、eventpost、database 都放在DataManger里面进行操作，我们只需要与DataManger打交道</li>
<li>提取方法，去除重复代码。对于必要的工具类抽取也很重要，这在以后的项目中是可以重用的。（如果是想组件化，重复代码不可避免，而且会增加工作量，因为模块之前是独立的，页面层面的雷同不做抽提）</li>
<li>尽可能的使用局部变量</li>
<li>尽量减少对变量的重复计算。</li>
<li>尽量在合适的场合使用单例。使用单例可以减轻加载的负担，缩短加载的时间，提高加载效率。但并不是所有的地方都适用于单例，简单来说单例主要适用于以下三个方面：</li>
</ul>
<ol>
<li>控制资源的使用，通过线程同步来控制资源的并发访问。</li>
<li>控制实例的产生，以达到节约资源的目的。</li>
<li>控制数据的共享，在不建立直接关联的条件下，让多个不相关的进程或线程之间实现通信。<br>最后不要忘了检测内存泄漏。可使用Instruments分析内存。</li>
</ol>
<p><a href="https://www.jianshu.com/p/1784cd67e8de" target="_blank" rel="noopener">文章来源1</a><br><a href="https://www.jianshu.com/p/6fa5e599bbae" target="_blank" rel="noopener">文章来源2</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/12/25/代码规范/" data-id="cjraeqoo50004f1fy4g92is61" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/24/pod私有化，在组件中包含*.xcassets资源时需要做什么/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/01/23/iPad机型/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/12/25/组件化/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/12/25/面试心得/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/12/25/代码规范/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>